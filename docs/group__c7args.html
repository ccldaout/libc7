<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libc7: c7args.h</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libc7
   &#160;<span id="projectnumber">r0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a>  </div>
  <div class="headertitle">
<div class="title">c7args.h</div>  </div>
</div><!--header-->
<div class="contents">

<p>コマンドライン引数のオプション解析  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structc7__args__optdef__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c7args.html#structc7__args__optdef__t">c7_args_optdef_t</a></td></tr>
<tr class="memdesc:structc7__args__optdef__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">オプションの特徴を定義する構造体。  <a href="group__c7args.html#structc7__args__optdef__t">More...</a><br /></td></tr>
<tr class="separator:structc7__args__optdef__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structc7__args__prm__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c7args.html#structc7__args__prm__t">c7_args_prm_t</a></td></tr>
<tr class="memdesc:structc7__args__prm__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">オプションに指定されたパラメータの解析結果を保持する。  <a href="group__c7args.html#structc7__args__prm__t">More...</a><br /></td></tr>
<tr class="separator:structc7__args__prm__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:unionc7__args__prm__t_8u"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c7args.html#unionc7__args__prm__t_8u">c7_args_prm_t.u</a></td></tr>
<tr class="separator:unionc7__args__prm__t_8u"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structc7__args__prm__t_8u_8tm"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c7args.html#structc7__args__prm__t_8u_8tm">c7_args_prm_t.u.tm</a></td></tr>
<tr class="separator:structc7__args__prm__t_8u_8tm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structc7__args__params__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c7args.html#structc7__args__params__t">c7_args_params_t</a></td></tr>
<tr class="memdesc:structc7__args__params__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">オプションの解析結果を保持する。  <a href="group__c7args.html#structc7__args__params__t">More...</a><br /></td></tr>
<tr class="separator:structc7__args__params__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
オプション定義</h2></td></tr>
<tr class="memitem:ga202bbdefa3c4a8abaef3f7ef039a6261"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c7args.html#ga202bbdefa3c4a8abaef3f7ef039a6261">c7_args_type_t</a> { <br />
&#160;&#160;<a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261a2dd4f1a7dde7c04da3cc8b66bfd1fd98">C7_ARGS_T_none</a>, 
<a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261a116bb53441f49884b98fcaa28715d5f9">C7_ARGS_T_INT</a>, 
<a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261a5db14807db3b952a59cb29fc7e35f0ec">C7_ARGS_T_REAL</a>, 
<a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261a9bd21364ea26178ba18254a8801dd025">C7_ARGS_T_KEY</a>, 
<br />
&#160;&#160;<a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261aeee969ef2f2bb7ef09b195cb6f1cbbcc">C7_ARGS_T_REX</a>, 
<a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261a9aab03b9aff38beecdc156f26f84045e">C7_ARGS_T_DTV</a>, 
<a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261afc4c4496bf66bc1d878787344fd39c1e">C7_ARGS_T_ANY</a>
<br />
 }</td></tr>
<tr class="memdesc:ga202bbdefa3c4a8abaef3f7ef039a6261"><td class="mdescLeft">&#160;</td><td class="mdescRight">オプションがとるパラメータの種類。  <a href="group__c7args.html#ga202bbdefa3c4a8abaef3f7ef039a6261">More...</a><br /></td></tr>
<tr class="separator:ga202bbdefa3c4a8abaef3f7ef039a6261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacbf5e30dc20dfbc6ecaa15569c24cf32"><td class="memItemLeft" align="right" valign="top"><a id="gacbf5e30dc20dfbc6ecaa15569c24cf32"></a>
typedef <a class="el" href="group__c7types.html#ga32dffe853a91b70665fd4c3b18a9d288">c7_bool_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c7args.html#gacbf5e30dc20dfbc6ecaa15569c24cf32">c7_args_handler_t</a>) (<a class="el" href="group__c7args.html#gae0ec5118c9303d41f7adcd68bd7e7cc5">c7_args_t</a> ap, const <a class="el" href="group__c7args.html#structc7__args__params__t">c7_args_params_t</a> *params, void *__uctx)</td></tr>
<tr class="memdesc:gacbf5e30dc20dfbc6ecaa15569c24cf32"><td class="mdescLeft">&#160;</td><td class="mdescRight">オプション解析後に呼び出される関数の形式。c7_args_parse() で説明する。 <br /></td></tr>
<tr class="separator:gacbf5e30dc20dfbc6ecaa15569c24cf32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83187dd1b605bd5946e3f6e80d817969"><td class="memItemLeft" align="right" valign="top"><a id="ga83187dd1b605bd5946e3f6e80d817969"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c7args.html#ga83187dd1b605bd5946e3f6e80d817969">C7_ARGS_PRMC_UNLIM</a></td></tr>
<tr class="memdesc:ga83187dd1b605bd5946e3f6e80d817969"><td class="mdescLeft">&#160;</td><td class="mdescRight">オプションのパラメータ数に制限が無いことを意味する。 <br /></td></tr>
<tr class="separator:ga83187dd1b605bd5946e3f6e80d817969"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
オプション解析結果</h2></td></tr>
<tr class="memitem:ga725cff09e2b02efc754142dae84ace11"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c7args.html#ga725cff09e2b02efc754142dae84ace11">c7_args_prm_time_t</a> { <a class="el" href="group__c7args.html#gga725cff09e2b02efc754142dae84ace11a7e08d891958dc4456b121e6e738667c1">C7_ARGS_TIME_DOT</a>, 
<a class="el" href="group__c7args.html#gga725cff09e2b02efc754142dae84ace11a915b557a41bb2601f346054262aab25c">C7_ARGS_TIME_NOSEC</a>, 
<a class="el" href="group__c7args.html#gga725cff09e2b02efc754142dae84ace11a6cb5ee8b495ece6b4fca1c752fb9a838">C7_ARGS_TIME_SEC</a>
 }</td></tr>
<tr class="memdesc:ga725cff09e2b02efc754142dae84ace11"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261a9aab03b9aff38beecdc156f26f84045e" title="本機能専用の時刻形式。  [[[YY]MMDD]hhmm][.ss] または . (ドット)。">C7_ARGS_T_DTV</a> のパラメータの表現形式  <a href="group__c7args.html#ga725cff09e2b02efc754142dae84ace11">More...</a><br /></td></tr>
<tr class="separator:ga725cff09e2b02efc754142dae84ace11"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
オプション解析API</h2></td></tr>
<tr class="memitem:gae0ec5118c9303d41f7adcd68bd7e7cc5"><td class="memItemLeft" align="right" valign="top"><a id="gae0ec5118c9303d41f7adcd68bd7e7cc5"></a>
typedef struct c7_args_t_ *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c7args.html#gae0ec5118c9303d41f7adcd68bd7e7cc5">c7_args_t</a></td></tr>
<tr class="memdesc:gae0ec5118c9303d41f7adcd68bd7e7cc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">オプション解析オブジェクト <br /></td></tr>
<tr class="separator:gae0ec5118c9303d41f7adcd68bd7e7cc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga506c5aa7b2c93cab05e2d5470bd8ac0b"><td class="memItemLeft" align="right" valign="top"><a id="ga506c5aa7b2c93cab05e2d5470bd8ac0b"></a>
<a class="el" href="group__c7args.html#gae0ec5118c9303d41f7adcd68bd7e7cc5">c7_args_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c7args.html#ga506c5aa7b2c93cab05e2d5470bd8ac0b">c7_args_init</a> (void)</td></tr>
<tr class="memdesc:ga506c5aa7b2c93cab05e2d5470bd8ac0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">オプション解析オブジェクトを生成する。 <br /></td></tr>
<tr class="separator:ga506c5aa7b2c93cab05e2d5470bd8ac0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacfc06309ef3f017969aff2d57a89aecd"><td class="memItemLeft" align="right" valign="top"><a id="gacfc06309ef3f017969aff2d57a89aecd"></a>
<a class="el" href="group__c7types.html#ga32dffe853a91b70665fd4c3b18a9d288">c7_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c7args.html#gacfc06309ef3f017969aff2d57a89aecd">c7_args_add_list</a> (<a class="el" href="group__c7args.html#gae0ec5118c9303d41f7adcd68bd7e7cc5">c7_args_t</a> ap, const <a class="el" href="group__c7args.html#structc7__args__optdef__t">c7_args_optdef_t</a> *optv, int optc)</td></tr>
<tr class="memdesc:gacfc06309ef3f017969aff2d57a89aecd"><td class="mdescLeft">&#160;</td><td class="mdescRight">オプション解析オブジェクト ap にオプション定義 optv を追加する。この関数を繰り返し呼んでも良い。 <br /></td></tr>
<tr class="separator:gacfc06309ef3f017969aff2d57a89aecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga959f84f2d8426867f27ba9e1939cbe9b"><td class="memItemLeft" align="right" valign="top"><a id="ga959f84f2d8426867f27ba9e1939cbe9b"></a>
<a class="el" href="group__c7string__strbuf.html#gaad0bbcb830057114f446d45e08ccf6f5">c7_str_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c7args.html#ga959f84f2d8426867f27ba9e1939cbe9b">c7_args_usage</a> (<a class="el" href="group__c7args.html#gae0ec5118c9303d41f7adcd68bd7e7cc5">c7_args_t</a> ap, <a class="el" href="group__c7string__strbuf.html#gaad0bbcb830057114f446d45e08ccf6f5">c7_str_t</a> *sbp, int expl_off)</td></tr>
<tr class="memdesc:ga959f84f2d8426867f27ba9e1939cbe9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">オプション解析オブジェクト ap から Usage 表示用の文字列を構成し、C7文字列 sbp に追加する。 expl_off はオプションの概要を表示するカラム位置。 <br /></td></tr>
<tr class="separator:ga959f84f2d8426867f27ba9e1939cbe9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac16e7464cd4822f32e51b16e17a106cd"><td class="memItemLeft" align="right" valign="top">char **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c7args.html#gac16e7464cd4822f32e51b16e17a106cd">c7_args_parse</a> (<a class="el" href="group__c7args.html#gae0ec5118c9303d41f7adcd68bd7e7cc5">c7_args_t</a> ap, char **argv, void *__uctx)</td></tr>
<tr class="memdesc:gac16e7464cd4822f32e51b16e17a106cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">引数 argv をオプション解析オブジェクト ap で解析する。  <a href="#gac16e7464cd4822f32e51b16e17a106cd">More...</a><br /></td></tr>
<tr class="separator:gac16e7464cd4822f32e51b16e17a106cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08b9a4deacaa7033c8f3feae037e34ec"><td class="memItemLeft" align="right" valign="top"><a id="ga08b9a4deacaa7033c8f3feae037e34ec"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c7args.html#ga08b9a4deacaa7033c8f3feae037e34ec">c7_args_free</a> (<a class="el" href="group__c7args.html#gae0ec5118c9303d41f7adcd68bd7e7cc5">c7_args_t</a>)</td></tr>
<tr class="memdesc:ga08b9a4deacaa7033c8f3feae037e34ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">オプション解析オブジェクト ap を解放する。解析結果の情報も解放される。 <br /></td></tr>
<tr class="separator:ga08b9a4deacaa7033c8f3feae037e34ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>コマンドライン引数のオプション解析 </p>
<p>コマンドライン引数のオプションを解析するには、 各オプションの特徴を構造体で定義し、 オプション検出時に呼ばれるハンドラを準備することから始まる。 それを解析機に登録したあと、実際の引数(いわゆる main() の argv)を 渡すことで解析が行われる。 </p>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structc7__args__optdef__t" id="structc7__args__optdef__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structc7__args__optdef__t">&#9670;&nbsp;</a></span>c7_args_optdef_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct c7_args_optdef_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>オプションの特徴を定義する構造体。 </p>
<p>一つのオプションに対して、オプション文字列や概要、パラメータ数や種類などの情報を定義する。</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="group__c7types.html#ga32dffe853a91b70665fd4c3b18a9d288">c7_bool_t</a> option_inline(<a class="code" href="group__c7args.html#gae0ec5118c9303d41f7adcd68bd7e7cc5">c7_args_t</a> ap, <span class="keyword">const</span> <a class="code" href="group__c7args.html#structc7__args__params__t">c7_args_params_t</a> *params, <span class="keywordtype">void</span> *__uctx)</div><div class="line">{</div><div class="line">   ...</div><div class="line">} </div><div class="line"></div><div class="line"><span class="keyword">static</span> <a class="code" href="group__c7types.html#ga32dffe853a91b70665fd4c3b18a9d288">c7_bool_t</a> option_highlight(<a class="code" href="group__c7args.html#gae0ec5118c9303d41f7adcd68bd7e7cc5">c7_args_t</a> ap, <span class="keyword">const</span> <a class="code" href="group__c7args.html#structc7__args__params__t">c7_args_params_t</a> *params, <span class="keywordtype">void</span> *__uctx)</div><div class="line">{</div><div class="line">   ...</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">static</span> <a class="code" href="group__c7args.html#structc7__args__optdef__t">c7_args_optdef_t</a> OptionDefs[] = {</div><div class="line">    {</div><div class="line">        .<a class="code" href="group__c7args.html#a282ffb6b770d339296fb8188ca80a7ca">long_opt</a> = <span class="stringliteral">&quot;inline&quot;</span>,</div><div class="line">        .short_opt = <span class="stringliteral">&quot;i&quot;</span>,</div><div class="line">        .optrepr = <span class="stringliteral">&quot;replace original without backup&quot;</span>,</div><div class="line">        .handler = option_inline },</div><div class="line">    ...</div><div class="line">    {</div><div class="line">        .long_opt = <span class="stringliteral">&quot;highlight&quot;</span>,</div><div class="line">        .short_opt = <span class="stringliteral">&quot;H&quot;</span>,</div><div class="line">        .optrepr = <span class="stringliteral">&quot;highlight replaced string&quot;</span>,</div><div class="line">        .prmrepr = <span class="stringliteral">&quot;highlight mode (default:color)&quot;</span>,</div><div class="line">        .prmword = <span class="stringliteral">&quot;HIGHLIGHT&quot;</span>,</div><div class="line">        .prmtype = <a class="code" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261a9bd21364ea26178ba18254a8801dd025">C7_ARGS_T_KEY</a>,</div><div class="line">        .conds = (<span class="keywordtype">char</span> *[]) { <span class="stringliteral">&quot;none&quot;</span>, <span class="stringliteral">&quot;color&quot;</span>, NULL },</div><div class="line">        .prmc_min = 0,</div><div class="line">        .prmc_max = 1,</div><div class="line">        .handler = option_highlight },</div><div class="line">    ...</div><div class="line">};</div></div><!-- fragment --> </div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a282ffb6b770d339296fb8188ca80a7ca"></a>char *</td>
<td class="fieldname">
long_opt</td>
<td class="fielddoc">
ロングオプション名 (先頭の'&ndash;'は除く) </td></tr>
<tr><td class="fieldtype">
<a id="a0b4b8ea70b159907528fe272c1186c37"></a>char *</td>
<td class="fieldname">
short_opt</td>
<td class="fielddoc">
一文字オプション名 (先頭の'-'は除く) </td></tr>
<tr><td class="fieldtype">
<a id="af322303215e0dbb29c757711770e1668"></a>char *</td>
<td class="fieldname">
optrepr</td>
<td class="fielddoc">
オプションの概要 </td></tr>
<tr><td class="fieldtype">
<a id="a53181db994f45ad09211e38421dd5134"></a>char *</td>
<td class="fieldname">
prmrepr</td>
<td class="fielddoc">
パラメータの概要 </td></tr>
<tr><td class="fieldtype">
<a id="ab10331efe9fa9dfcb3f6b92fdf76e593"></a>char *</td>
<td class="fieldname">
prmword</td>
<td class="fielddoc">
パラメータを表現する短かい単語 (エラーやUsageで使用される) </td></tr>
<tr><td class="fieldtype">
<a id="acf2e37063c55fee2299a5037975a3ffd"></a><a class="el" href="group__c7args.html#ga202bbdefa3c4a8abaef3f7ef039a6261">c7_args_type_t</a></td>
<td class="fieldname">
prmtype</td>
<td class="fielddoc">
パラメータの種類 </td></tr>
<tr><td class="fieldtype">
<a id="a0aa60e2eaf53f4c8b57adcdae3decf08"></a>char **</td>
<td class="fieldname">
conds</td>
<td class="fielddoc">
パラメータの種類に関する追加情報<br />
 <a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261a9bd21364ea26178ba18254a8801dd025" title="リスト内のキーワード">C7_ARGS_T_KEY</a> の場合はキーワードのリスト(NULLで終了する)<br />
 <a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261aeee969ef2f2bb7ef09b195cb6f1cbbcc" title="拡張正規表現に一致する文字列">C7_ARGS_T_REX</a> の場合は拡張正規表現のリスト(NULLで終了する) </td></tr>
<tr><td class="fieldtype">
<a id="a9a8a20f485a38dd84d2e22df1d3c6d80"></a>unsigned int</td>
<td class="fieldname">
prmc_min</td>
<td class="fielddoc">
パラメータの最小数 </td></tr>
<tr><td class="fieldtype">
<a id="a1088e618c53c6133ecb96c7e4cc1a3b4"></a>unsigned int</td>
<td class="fieldname">
prmc_max</td>
<td class="fielddoc">
パラメータの最大数。C7_ARGS_PRMC_UNLIM を指定すると無制限になる。 </td></tr>
<tr><td class="fieldtype">
<a id="a3aac15625c071e66fb58306fbd8888f4"></a><a class="el" href="group__c7args.html#gacbf5e30dc20dfbc6ecaa15569c24cf32">c7_args_handler_t</a></td>
<td class="fieldname">
handler</td>
<td class="fielddoc">
オプション解析後に呼び出される関数 </td></tr>
</table>

</div>
</div>
<a name="structc7__args__prm__t" id="structc7__args__prm__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structc7__args__prm__t">&#9670;&nbsp;</a></span>c7_args_prm_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct c7_args_prm_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>オプションに指定されたパラメータの解析結果を保持する。 </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a9b9623f84d5c844cd4b7b47e3f816f59"></a><a class="el" href="group__c7args.html#ga202bbdefa3c4a8abaef3f7ef039a6261">c7_args_type_t</a></td>
<td class="fieldname">
type</td>
<td class="fielddoc">
<a class="el" href="group__c7args.html#acf2e37063c55fee2299a5037975a3ffd" title="パラメータの種類">c7_args_optdef_t.prmtype</a> と同じ値 </td></tr>
<tr><td class="fieldtype">
<a id="a41d3a89ca903fd71d57362a24260b649"></a>int</td>
<td class="fieldname">
keyindex</td>
<td class="fielddoc">
<a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261a9bd21364ea26178ba18254a8801dd025" title="リスト内のキーワード">C7_ARGS_T_KEY</a> や <a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261aeee969ef2f2bb7ef09b195cb6f1cbbcc" title="拡張正規表現に一致する文字列">C7_ARGS_T_REX</a> の場合の、 一致した <a class="el" href="group__c7args.html#a0aa60e2eaf53f4c8b57adcdae3decf08" title="パラメータの種類に関する追加情報  C7_ARGS_T_KEY の場合はキーワードのリスト(NULLで終了する)  C7_ARGS_T_REX の場合は拡張正規表現のリスト(NULLで終了する)">c7_args_optdef_t.conds</a>[] のインデックス。 </td></tr>
<tr><td class="fieldtype">
<a id="a9fd86d3f5d9368274563466e1e94587b"></a>union <a class="el" href="group__c7args.html#unionc7__args__prm__t_8u">c7_args_prm_t</a></td>
<td class="fieldname">
u</td>
<td class="fielddoc">
type 毎の解析値 </td></tr>
</table>

</div>
</div>
<a name="unionc7__args__prm__t_8u" id="unionc7__args__prm__t_8u"></a>
<h2 class="memtitle"><span class="permalink"><a href="#unionc7__args__prm__t_8u">&#9670;&nbsp;</a></span>c7_args_prm_t.u</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union c7_args_prm_t.u</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a865c0c0b4ab0e063e5caa3387c1a8741"></a>int64_t</td>
<td class="fieldname">
i</td>
<td class="fielddoc">
<a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261a116bb53441f49884b98fcaa28715d5f9" title="整数型">C7_ARGS_T_INT</a> の場合 </td></tr>
<tr><td class="fieldtype">
<a id="a4b43b0aee35624cd95b910189b3dc231"></a>double</td>
<td class="fieldname">
r</td>
<td class="fielddoc">
<a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261a5db14807db3b952a59cb29fc7e35f0ec" title="実数型">C7_ARGS_T_REAL</a> の場合 </td></tr>
<tr><td class="fieldtype">
<a id="a03c7c0ace395d80182db07ae2c30f034"></a>const char *</td>
<td class="fieldname">
s</td>
<td class="fielddoc">
<a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261a9bd21364ea26178ba18254a8801dd025" title="リスト内のキーワード">C7_ARGS_T_KEY</a> また <a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261afc4c4496bf66bc1d878787344fd39c1e" title="任意文字列">C7_ARGS_T_ANY</a> </td></tr>
<tr><td class="fieldtype">
<a id="a6fa37cb391c0ea306230bfe929bf2681"></a>const char **</td>
<td class="fieldname">
rxv</td>
<td class="fielddoc">
<a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261aeee969ef2f2bb7ef09b195cb6f1cbbcc" title="拡張正規表現に一致する文字列">C7_ARGS_T_REX</a> の場合のマッチング文字列<br />
 rxv[0] は正規表現全体、rxv[1],. . . は部分一致で '(' の順。 </td></tr>
<tr><td class="fieldtype">
<a id="a6a962563e235e1789e663e356ac8d9e4"></a><a class="el" href="group__c7args.html#structc7__args__prm__t_8u_8tm">u</a></td>
<td class="fieldname">
tm</td>
<td class="fielddoc">
<a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261a9aab03b9aff38beecdc156f26f84045e" title="本機能専用の時刻形式。  [[[YY]MMDD]hhmm][.ss] または . (ドット)。">C7_ARGS_T_DTV</a> の場合 </td></tr>
</table>

</div>
</div>
<a name="structc7__args__prm__t_8u_8tm" id="structc7__args__prm__t_8u_8tm"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structc7__args__prm__t_8u_8tm">&#9670;&nbsp;</a></span>c7_args_prm_t.u.tm</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct c7_args_prm_t.u.tm</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a9e3669d19b675bd57058fd4664205d2a"></a>time_t</td>
<td class="fieldname">
v</td>
<td class="fielddoc">
time_t値 </td></tr>
<tr><td class="fieldtype">
<a id="a3fcdb73d36d54f2cc22d0f68e6b6e182"></a><a class="el" href="group__c7args.html#ga725cff09e2b02efc754142dae84ace11">c7_args_prm_time_t</a></td>
<td class="fieldname">
form</td>
<td class="fielddoc">
指定された文字列の形式 </td></tr>
</table>

</div>
</div>
<a name="structc7__args__params__t" id="structc7__args__params__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structc7__args__params__t">&#9670;&nbsp;</a></span>c7_args_params_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct c7_args_params_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>オプションの解析結果を保持する。 </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a73149d2aed342ff65d102b135a9263f3"></a>const <a class="el" href="group__c7args.html#structc7__args__optdef__t">c7_args_optdef_t</a> *</td>
<td class="fieldname">
optdef</td>
<td class="fielddoc">
関連するオプションの定義 </td></tr>
<tr><td class="fieldtype">
<a id="acab25d93c2fb41e91d25c644b6986d7a"></a>const char *</td>
<td class="fieldname">
specified_prm</td>
<td class="fielddoc">
指定されたオプション文字列。"-O" や "--option" のような文字列。 </td></tr>
<tr><td class="fieldtype">
<a id="ae7de7379ba8797ee756270f9742965d2"></a>int</td>
<td class="fieldname">
prmc</td>
<td class="fielddoc">
解析されたパラメータの個数 </td></tr>
<tr><td class="fieldtype">
<a id="a090f4ee967bd37503fb1925c2abef99d"></a><a class="el" href="group__c7args.html#structc7__args__prm__t">c7_args_prm_t</a> *</td>
<td class="fieldname">
prmv</td>
<td class="fielddoc">
解析されたパラメータのデータ。prmv[0]〜prmv[prmc-1] </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga202bbdefa3c4a8abaef3f7ef039a6261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga202bbdefa3c4a8abaef3f7ef039a6261">&#9670;&nbsp;</a></span>c7_args_type_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__c7args.html#ga202bbdefa3c4a8abaef3f7ef039a6261">c7_args_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>オプションがとるパラメータの種類。 </p>
<p>オプションが異なる種類のパラメータをとる場合は <a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261afc4c4496bf66bc1d878787344fd39c1e" title="任意文字列">C7_ARGS_T_ANY</a> を指定して、 ハンドラ内で独自に解析しなければならない。 </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga202bbdefa3c4a8abaef3f7ef039a6261a2dd4f1a7dde7c04da3cc8b66bfd1fd98"></a>C7_ARGS_T_none&#160;</td><td class="fielddoc"><p>パラメータは取らない </p>
</td></tr>
<tr><td class="fieldname"><a id="gga202bbdefa3c4a8abaef3f7ef039a6261a116bb53441f49884b98fcaa28715d5f9"></a>C7_ARGS_T_INT&#160;</td><td class="fielddoc"><p>整数型 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga202bbdefa3c4a8abaef3f7ef039a6261a5db14807db3b952a59cb29fc7e35f0ec"></a>C7_ARGS_T_REAL&#160;</td><td class="fielddoc"><p>実数型 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga202bbdefa3c4a8abaef3f7ef039a6261a9bd21364ea26178ba18254a8801dd025"></a>C7_ARGS_T_KEY&#160;</td><td class="fielddoc"><p>リスト内のキーワード </p>
</td></tr>
<tr><td class="fieldname"><a id="gga202bbdefa3c4a8abaef3f7ef039a6261aeee969ef2f2bb7ef09b195cb6f1cbbcc"></a>C7_ARGS_T_REX&#160;</td><td class="fielddoc"><p>拡張正規表現に一致する文字列 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga202bbdefa3c4a8abaef3f7ef039a6261a9aab03b9aff38beecdc156f26f84045e"></a>C7_ARGS_T_DTV&#160;</td><td class="fielddoc"><p>本機能専用の時刻形式。<br />
 [[[YY]MMDD]hhmm][.ss] または . (ドット)。 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga202bbdefa3c4a8abaef3f7ef039a6261afc4c4496bf66bc1d878787344fd39c1e"></a>C7_ARGS_T_ANY&#160;</td><td class="fielddoc"><p>任意文字列 </p>
</td></tr>
</table>

</div>
</div>
<a id="ga725cff09e2b02efc754142dae84ace11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga725cff09e2b02efc754142dae84ace11">&#9670;&nbsp;</a></span>c7_args_prm_time_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__c7args.html#ga725cff09e2b02efc754142dae84ace11">c7_args_prm_time_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="group__c7args.html#gga202bbdefa3c4a8abaef3f7ef039a6261a9aab03b9aff38beecdc156f26f84045e" title="本機能専用の時刻形式。  [[[YY]MMDD]hhmm][.ss] または . (ドット)。">C7_ARGS_T_DTV</a> のパラメータの表現形式 </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga725cff09e2b02efc754142dae84ace11a7e08d891958dc4456b121e6e738667c1"></a>C7_ARGS_TIME_DOT&#160;</td><td class="fielddoc"><p>'.' のみ指定された </p>
</td></tr>
<tr><td class="fieldname"><a id="gga725cff09e2b02efc754142dae84ace11a915b557a41bb2601f346054262aab25c"></a>C7_ARGS_TIME_NOSEC&#160;</td><td class="fielddoc"><p>秒の指定がなかった </p>
</td></tr>
<tr><td class="fieldname"><a id="gga725cff09e2b02efc754142dae84ace11a6cb5ee8b495ece6b4fca1c752fb9a838"></a>C7_ARGS_TIME_SEC&#160;</td><td class="fielddoc"><p>秒の指定があった </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac16e7464cd4822f32e51b16e17a106cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac16e7464cd4822f32e51b16e17a106cd">&#9670;&nbsp;</a></span>c7_args_parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char** c7_args_parse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c7args.html#gae0ec5118c9303d41f7adcd68bd7e7cc5">c7_args_t</a>&#160;</td>
          <td class="paramname"><em>ap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>__uctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>引数 argv をオプション解析オブジェクト ap で解析する。 </p>
<ul>
<li>argv[0] は最初の引数でなければならない。</li>
<li>解析できたオプションに対して、オプション定義に指定したハンドラが呼び出される。 この時 __uctx の値がハンドラの最終引数に渡される。</li>
<li>オプションでない引数を検出したらそこで解析を停止し、その引数を先頭とする引数リストを戻す。 argv[0]..argv[n] がオプションとオプション引数で、argv[n+1] が非オプションの場合、&amp;argv[n+1] が戻されるということ。</li>
<li>解析結果のメモリは、同一の解析オブジェクト ap に対して次に <a class="el" href="group__c7args.html#gac16e7464cd4822f32e51b16e17a106cd" title="引数 argv をオプション解析オブジェクト ap で解析する。">c7_args_parse()</a> を呼び出すか、 <a class="el" href="group__c7args.html#ga08b9a4deacaa7033c8f3feae037e34ec" title="オプション解析オブジェクト ap を解放する。解析結果の情報も解放される。">c7_args_free()</a> を呼び出すと解放される。解析結果の文字列などを永続的に使用したい場合は呼び出し側で複製する必要がある。 </li>
</ul>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
